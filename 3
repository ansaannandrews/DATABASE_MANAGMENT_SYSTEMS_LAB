CREATE TABLE AUTHOR
  (Author_Id INT PRIMARY KEY,
    Name VARCHAR(100),
    Email VARCHAR(100),
    Phone_Number VARCHAR(20),
    Status VARCHAR(20));
    
CREATE TABLE PUBLISHER
   (Publisher_Id INT PRIMARY KEY,
    Name VARCHAR(100) ,
    Address VARCHAR(50));

CREATE TABLE MEMBER
   (Member_Id INT PRIMARY KEY,
    Name VARCHAR(100),
    Branch_Code VARCHAR(10),
    Roll_Number VARCHAR(20),
    Phone_Number VARCHAR(20),
    Email_Id VARCHAR(100),
    Date_of_Join DATE,
    Status VARCHAR(20));
    
CREATE TABLE LANGUAGE
    (Language_id INT PRIMARY KEY,
     LName VARCHAR(20));
     
CREATE TABLE LATE_FEE_RULE
    (FromDays INT,
     ToDays INT,
     Amount INT,
     PRIMARY KEY (FromDays, ToDays));
    
CREATE TABLE BOOK
    (Book_Id INT PRIMARY KEY,
     Title VARCHAR(20),
     Language_id INT,
     MRP DECIMAL(10,2),
     Publisher_Id INT,
     Published_Date DATE,
     Volume INT,
     Status VARCHAR(20),
     FOREIGN KEY (Language_id) REFERENCES LANGUAGE(Language_id),
     FOREIGN KEY (Publisher_Id) REFERENCES PUBLISHER(Publisher_Id));

CREATE TABLE BOOK_AUTHOR
   (Book_Id INT,
    Author_Id INT,
    PRIMARY KEY (Book_Id, Author_Id),
    FOREIGN KEY (Book_Id) REFERENCES BOOK(Book_Id),
    FOREIGN KEY (Author_Id) REFERENCES AUTHOR(Author_Id));

CREATE TABLE BOOK_ISSUE (
    Issue_Id INT PRIMARY KEY,
    Date_Of_Issue DATE,
    Book_Id INT,
    Member_Id INT,
    Expected_Date_Of_Return DATE,
    Status VARCHAR(20),
    FOREIGN KEY (Book_Id) REFERENCES BOOK(Book_Id),
    FOREIGN KEY (Member_Id) REFERENCES MEMBER(Member_Id)
);

CREATE TABLE BOOK_RETURN
   (Issue_Id INT PRIMARY KEY,
    Actual_Date_Of_Return DATE,
    LateDays INT,
    LateFee DECIMAL(10,2),
    FOREIGN KEY (Issue_Id) REFERENCES BOOK_ISSUE(Issue_Id));

ALTER TABLE BOOK
ADD NEW_COLUMN VARCHAR(20);

ALTER TABLE MEMBER
MODIFY Branch_Code VARCHAR(20);

ALTER TABLE BOOK
ADD NEW_COLUMN VARCHAR(20);

ALTER TABLE MEMBER
MODIFY Branch_Code VARCHAR(20);

SELECT constraint_name, constraint_type
FROM user_constraints
WHERE table_name = 'BOOK';



INSERT INTO PUBLISHER (Publisher_id, Name, Address)
VALUES (2, 'HarperCollins', 'London');
INSERT INTO PUBLISHER (Publisher_id, Name, Address)
VALUES (1, 'Penguin Random House', 'New York');
SELECT * FROM PUBLISHER;


ALTER TABLE BOOK DISABLE CONSTRAINT SYS_C0081846;

TRUNCATE TABLE PUBLISHER;

DROP TABLE AUTHOR CASCADE CONSTRAINTS;
RENAME LATE_FEE_RULE TO FINE;
